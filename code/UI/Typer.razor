@using System
@using Sandbox
@using Sandbox.UI
@namespace Sandtype.UI

<style>
	Typer {
		width:  100%;
		height:  100%;
		font-size:  72px;
		position:  relative;
	}
	
	.text {
		position:  absolute;
		width:  100%;
		cursor: text;
    	align-items: flex-start;
    	justify-content: flex-start;
    	overflow: hidden;
    	flex-direction: row;
    }
	
	.text-content {
		color:  black;
		z-index: 1;;
	}
	
	.text-ghost {
		color:  gray;
		pointer-events: none;
		z-index: -1
	}
</style>

<root>
	<TextEntry Game="@this.Game"
	           class="text text-content"
	           @onchange="@this.ContentChanged"
	           autofocus/>
	<TextEntry Game="@this.Game" class="text text-ghost" Value="@this.Game?.TypeTarget"/>
</root>

@code {

	public SandtypeGame Game { get; set; }

	private void ContentChanged(PanelEvent e)
	{
		if ( e.Target is TextEntry tt )
		{
			var content = tt.Label;
			Game.TypeContent = content.Text;
		}
	}

}

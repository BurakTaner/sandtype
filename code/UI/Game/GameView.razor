@namespace Sandtype.UI.Game
@using System
@using Sandbox.UI
@using Sandtype.UI.Text;
@attribute [StyleSheet("GameView.razor.scss")]
@inherits Sandbox.UI.Panel

<root>
	<TextInput @ref="Input"/>
	<GameWorld @ref="World"/>
	@if ( Game.TerryHealth <= 0 )
		// todo unfuck
	{
		<GameJumbo>
			You killed terry in @(Math.Round( TimeSpan.FromMilliseconds( Game.TerryKillTime - Test.FirstInputTime ).TotalSeconds * 1000, 2 )) @("s! 💥💥💥")
		</GameJumbo>
	}
</root>

@code {

	public TypingTest Test;
	public TerryGame Game;
	public GameWorld World;
	public TextInput Input;

	protected override int BuildHash()
	{
		return HashCode.Combine( Game.TerryHealth, Game.TerryKillTime, Test.FirstInputTime );
	}

}
